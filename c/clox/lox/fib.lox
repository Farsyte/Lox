// Worst possible recursive definition of fib,
// to measure the speed of the interpreter and
// later to compare with comiled code.
//
// fib(n) runtime is O(1.618^n)
//
// CPU: AMD Ryzen 9 5950X 16-Core Processor
// no overclocking configured
// Estimating core speed at 4.3 GHz
//
// Generally the output from j/jlox is 28 ish.

fun fib(n) {
    if (n < 2) return n;
    return fib(n - 1) + fib(n - 2);
}

var before = clock();
print fib(40);
var after = clock();
print after - before;
