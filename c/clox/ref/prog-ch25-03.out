-- gc begin
-- gc end
-- gc begin
-- gc end
heap_002 allocate 40 for 3
-- gc begin
-- gc end
-- gc begin
heap_002 mark clock
heap_002 blacken clock
-- gc end
heap_004 allocate 24 for 2
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_007 allocate 40 for 3
-- gc begin
heap_007 mark gc
heap_002 mark clock
heap_004 mark <native fn>
heap_004 blacken <native fn>
heap_002 blacken clock
heap_007 blacken gc
-- gc end
heap_008 allocate 24 for 2
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_010 allocate 72 for 1
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_012 allocate 40 for 3
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_014 allocate 72 for 1
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_015 allocate 72 for 1
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <script>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_015 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <script>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_015 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_017 allocate 40 for 3
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <fn closure>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <fn closure>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end

Disassembling closure ...
0000    3 OP_GET_UPVALUE      0
0002    | OP_PRINT
0003    4 OP_NIL
0004    | OP_RETURN
Disassembling closure ... done.

-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end

Disassembling makeClosure ...
0000    4 OP_CLOSURE          0 <fn closure>
0002      | local 1
0004    5 OP_GET_LOCAL        2
0006    | OP_RETURN
0007    6 OP_NIL
0008    | OP_RETURN
Disassembling makeClosure ... done.

-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_026 allocate 40 for 3
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
heap_029 allocate 40 for 3
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end
-- gc begin
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
-- gc end

Disassembling <script> ...
0000    6 OP_CLOSURE          1 <fn makeClosure>
0002    | OP_DEFINE_GLOBAL    0 'makeClosure'
0004    8 OP_GET_GLOBAL       3 'makeClosure'
0006    | OP_CONSTANT         4 'doughnut'
0008    | OP_CALL             1
0010    | OP_DEFINE_GLOBAL    2 'doughnut'
0012    9 OP_GET_GLOBAL       6 'makeClosure'
0014    | OP_CONSTANT         7 'bagel'
0016    | OP_CALL             1
0018    | OP_DEFINE_GLOBAL    5 'bagel'
0020   10 OP_GET_GLOBAL       8 'doughnut'
0022    | OP_CALL             0
0024    | OP_POP
0025   11 OP_GET_GLOBAL       9 'bagel'
0027    | OP_CALL             0
0029    | OP_POP
0030   15 OP_NIL
0031    | OP_RETURN
Disassembling <script> ... done.

-- gc begin
heap_010 mark <script>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
heap_033 allocate 40 for 0

Executing ...
stack: <script>
0000    6 OP_CLOSURE          1 <fn makeClosure>
-- gc begin
heap_033 mark <script>
heap_033 mark <script>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
heap_034 allocate 40 for 0
stack: <script> <fn makeClosure>
0002    | OP_DEFINE_GLOBAL    0 'makeClosure'
stack: <script>
0004    8 OP_GET_GLOBAL       3 'makeClosure'
stack: <script> <fn makeClosure>
0006    | OP_CONSTANT         4 'doughnut'
stack: <script> <fn makeClosure> doughnut
0008    | OP_CALL             1
stack: <script> <fn makeClosure> doughnut
0000    4 OP_CLOSURE          0 <fn closure>
0002      | local 1
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_026 mark doughnut
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_034 mark <fn makeClosure>
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_026 mark doughnut
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_034 mark <fn makeClosure>
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
heap_036 allocate 40 for 0
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_026 mark doughnut
heap_036 mark <fn closure>
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_034 mark <fn makeClosure>
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_036 blacken <fn closure>
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_026 blacken doughnut
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
heap_037 allocate 48 for 4
stack: <script> <fn makeClosure> doughnut <fn closure>
0004    5 OP_GET_LOCAL        2
stack: <script> <fn makeClosure> doughnut <fn closure> <fn closure>
0006    | OP_RETURN
stack: <script> <fn closure>
0010    | OP_DEFINE_GLOBAL    2 'doughnut'
stack: <script>
0012    9 OP_GET_GLOBAL       6 'makeClosure'
stack: <script> <fn makeClosure>
0014    | OP_CONSTANT         7 'bagel'
stack: <script> <fn makeClosure> bagel
0016    | OP_CALL             1
stack: <script> <fn makeClosure> bagel
0000    4 OP_CLOSURE          0 <fn closure>
0002      | local 1
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_029 mark bagel
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_034 mark <fn makeClosure>
heap_026 mark doughnut
heap_036 mark <fn closure>
heap_036 blacken <fn closure>
heap_015 mark <fn closure>
heap_037 mark <upvalue>
heap_037 blacken <upvalue>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_026 blacken doughnut
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_029 mark bagel
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_034 mark <fn makeClosure>
heap_026 mark doughnut
heap_036 mark <fn closure>
heap_036 blacken <fn closure>
heap_015 mark <fn closure>
heap_037 mark <upvalue>
heap_037 blacken <upvalue>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_026 blacken doughnut
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
heap_039 allocate 40 for 0
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_029 mark bagel
heap_039 mark <fn closure>
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_002 mark clock
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_034 mark <fn makeClosure>
heap_026 mark doughnut
heap_036 mark <fn closure>
heap_036 blacken <fn closure>
heap_015 mark <fn closure>
heap_037 mark <upvalue>
heap_037 blacken <upvalue>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_026 blacken doughnut
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_002 blacken clock
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
heap_039 blacken <fn closure>
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_029 blacken bagel
heap_034 blacken <fn makeClosure>
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_012 mark makeClosure
heap_026 mark doughnut
heap_029 mark bagel
heap_012 mark makeClosure
heap_029 mark bagel
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_029 blacken bagel
heap_012 blacken makeClosure
heap_029 blacken bagel
heap_026 blacken doughnut
heap_012 blacken makeClosure
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 mark makeClosure
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_012 blacken makeClosure
heap_012 blacken makeClosure
-- gc end
heap_040 allocate 48 for 4
stack: <script> <fn makeClosure> bagel <fn closure>
0004    5 OP_GET_LOCAL        2
stack: <script> <fn makeClosure> bagel <fn closure> <fn closure>
0006    | OP_RETURN
stack: <script> <fn closure>
0018    | OP_DEFINE_GLOBAL    5 'bagel'
stack: <script>
0020   10 OP_GET_GLOBAL       8 'doughnut'
stack: <script> <fn closure>
0022    | OP_CALL             0
stack: <script> <fn closure>
0000    3 OP_GET_UPVALUE      0
stack: <script> <fn closure> doughnut
0002    | OP_PRINT
doughnut
stack: <script> <fn closure>
0003    4 OP_NIL
stack: <script> <fn closure> nil
0004    | OP_RETURN
stack: <script> nil
0024    | OP_POP
stack: <script>
0025   11 OP_GET_GLOBAL       9 'bagel'
stack: <script> <fn closure>
0027    | OP_CALL             0
stack: <script> <fn closure>
0000    3 OP_GET_UPVALUE      0
stack: <script> <fn closure> bagel
0002    | OP_PRINT
bagel
stack: <script> <fn closure>
0003    4 OP_NIL
stack: <script> <fn closure> nil
0004    | OP_RETURN
stack: <script> nil
0029    | OP_POP
stack: <script>
0030   15 OP_NIL
stack: <script> nil
0031    | OP_RETURN
Executing ... done.

heap_040 free type 4
heap_039 free type 0
heap_037 free type 4
heap_036 free type 0
heap_034 free type 0
heap_033 free type 0
heap_029 free type 3
heap_026 free type 3
heap_017 free type 3
heap_015 free type 1
heap_014 free type 1
heap_012 free type 3
heap_010 free type 1
heap_008 free type 2
heap_007 free type 3
heap_004 free type 2
heap_002 free type 3
