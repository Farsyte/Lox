-- gc begin
-- gc end: collected 0 bytes (from 6 to 6), next at 12
-- gc begin
-- gc end: collected 0 bytes (from 46 to 46), next at 92
heap_002 allocate 40 for 3
-- gc begin
-- gc end: collected 0 bytes (from 238 to 238), next at 476
-- gc begin
heap_002 mark clock
heap_002 blacken clock
-- gc end: collected 0 bytes (from 262 to 262), next at 524
heap_004 allocate 24 for 2
-- gc begin
heap_004 mark <native fn>
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 454 to 454), next at 908
-- gc begin
heap_004 mark <native fn>
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 457 to 457), next at 914
-- gc begin
heap_004 mark <native fn>
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 497 to 497), next at 994
heap_007 allocate 40 for 3
-- gc begin
heap_007 mark gc
heap_004 mark <native fn>
heap_004 blacken <native fn>
heap_007 blacken gc
-- gc end: collected 0 bytes (from 521 to 521), next at 1042
heap_008 allocate 24 for 2
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 816 to 816), next at 1632
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 888 to 888), next at 1776
heap_010 allocate 72 for 1
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 900 to 900), next at 1800
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 940 to 940), next at 1880
heap_012 allocate 40 for 3
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1068 to 1068), next at 2136
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1140 to 1140), next at 2280
heap_014 allocate 72 for 1
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1212 to 1212), next at 2424
heap_015 allocate 72 for 1
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1220 to 1220), next at 2440
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <script>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_015 blacken <script>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1260 to 1260), next at 2520
heap_017 allocate 40 for 3
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <fn closure>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_015 blacken <fn closure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1268 to 1268), next at 2536
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_015 mark <fn closure>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1300 to 1300), next at 2600

Disassembling closure ...
0000    3 OP_GET_UPVALUE      0
0002    | OP_PRINT
0003    4 OP_NIL
0004    | OP_RETURN
Disassembling closure ... done.

-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1428 to 1428), next at 2856
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_015 mark <fn closure>
heap_015 blacken <fn closure>
heap_017 mark closure
heap_017 blacken closure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1436 to 1436), next at 2872
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1468 to 1468), next at 2936
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1476 to 1476), next at 2952
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_014 mark <fn makeClosure>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_014 blacken <fn makeClosure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1508 to 1508), next at 3016

Disassembling makeClosure ...
0000    4 OP_CLOSURE          0 <fn closure>
0002      | local 1
0004    5 OP_GET_LOCAL        2
0006    | OP_RETURN
0007    6 OP_NIL
0008    | OP_RETURN
Disassembling makeClosure ... done.

-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1516 to 1516), next at 3032
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1548 to 1548), next at 3096
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1557 to 1557), next at 3114
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1597 to 1597), next at 3194
heap_026 allocate 40 for 3
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1605 to 1605), next at 3210
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1637 to 1637), next at 3274
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1643 to 1643), next at 3286
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1683 to 1683), next at 3366
heap_029 allocate 40 for 3
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1699 to 1699), next at 3398
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1763 to 1763), next at 3526
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_010 mark <script>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1891 to 1891), next at 3782

Disassembling <script> ...
0000    6 OP_CLOSURE          1 <fn makeClosure>
0002    | OP_DEFINE_GLOBAL    0 'makeClosure'
0004    8 OP_GET_GLOBAL       3 'makeClosure'
0006    | OP_CONSTANT         4 'doughnut'
0008    | OP_CALL             1
0010    | OP_DEFINE_GLOBAL    2 'doughnut'
0012    9 OP_GET_GLOBAL       6 'makeClosure'
0014    | OP_CONSTANT         7 'bagel'
0016    | OP_CALL             1
0018    | OP_DEFINE_GLOBAL    5 'bagel'
0020   10 OP_GET_GLOBAL       8 'doughnut'
0022    | OP_CALL             0
0024    | OP_POP
0025   11 OP_GET_GLOBAL       9 'bagel'
0027    | OP_CALL             0
0029    | OP_POP
0030   15 OP_NIL
0031    | OP_RETURN
Disassembling <script> ... done.

-- gc begin
heap_010 mark <script>
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_010 blacken <script>
heap_012 mark makeClosure
heap_014 mark <fn makeClosure>
heap_026 mark doughnut
heap_029 mark bagel
heap_029 blacken bagel
heap_026 blacken doughnut
heap_014 blacken <fn makeClosure>
heap_012 blacken makeClosure
-- gc end: collected 0 bytes (from 1931 to 1931), next at 3862
heap_033 allocate 40 for 0

Executing ...
stack: <script>
0000    6 OP_CLOSURE          1 <fn makeClosure>
-- gc begin
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
-- gc end: collected 0 bytes (from 1971 to 1971), next at 3942
heap_034 allocate 40 for 0
stack: <script> <fn makeClosure>
0002    | OP_DEFINE_GLOBAL    0 'makeClosure'
stack: <script>
0004    8 OP_GET_GLOBAL       3 'makeClosure'
stack: <script> <fn makeClosure>
0006    | OP_CONSTANT         4 'doughnut'
stack: <script> <fn makeClosure> doughnut
0008    | OP_CALL             1
stack: <script> <fn makeClosure> doughnut
0000    4 OP_CLOSURE          0 <fn closure>
0002      | local 1
-- gc begin
heap_033 mark <script>
heap_026 mark doughnut
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_012 mark makeClosure
heap_012 blacken makeClosure
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_026 blacken doughnut
heap_033 blacken <script>
heap_010 mark <script>
heap_010 blacken <script>
heap_014 mark <fn makeClosure>
heap_029 mark bagel
heap_029 blacken bagel
heap_014 blacken <fn makeClosure>
-- gc end: collected 0 bytes (from 1979 to 1979), next at 3958
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_034 blacken <fn makeClosure>
heap_033 blacken <script>
-- gc end: collected 0 bytes (from 2019 to 2019), next at 4038
heap_036 allocate 40 for 0
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_034 blacken <fn makeClosure>
heap_033 blacken <script>
-- gc end: collected 0 bytes (from 2067 to 2067), next at 4134
heap_037 allocate 48 for 4
stack: <script> <fn makeClosure> doughnut <fn closure>
0004    5 OP_GET_LOCAL        2
stack: <script> <fn makeClosure> doughnut <fn closure> <fn closure>
0006    | OP_RETURN
stack: <script> <fn closure>
0010    | OP_DEFINE_GLOBAL    2 'doughnut'
stack: <script>
0012    9 OP_GET_GLOBAL       6 'makeClosure'
stack: <script> <fn makeClosure>
0014    | OP_CONSTANT         7 'bagel'
stack: <script> <fn makeClosure> bagel
0016    | OP_CALL             1
stack: <script> <fn makeClosure> bagel
0000    4 OP_CLOSURE          0 <fn closure>
0002      | local 1
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_036 mark <fn closure>
heap_036 blacken <fn closure>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_034 blacken <fn makeClosure>
heap_033 blacken <script>
-- gc end: collected 0 bytes (from 2075 to 2075), next at 4150
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_036 mark <fn closure>
heap_036 blacken <fn closure>
heap_037 mark <upvalue>
heap_037 blacken <upvalue>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_034 blacken <fn makeClosure>
heap_033 blacken <script>
-- gc end: collected 0 bytes (from 2115 to 2115), next at 4230
heap_039 allocate 40 for 0
-- gc begin
heap_033 mark <script>
heap_034 mark <fn makeClosure>
heap_004 mark <native fn>
heap_007 mark gc
heap_008 mark <native fn>
heap_036 mark <fn closure>
heap_036 blacken <fn closure>
heap_037 mark <upvalue>
heap_037 blacken <upvalue>
heap_008 blacken <native fn>
heap_007 blacken gc
heap_004 blacken <native fn>
heap_034 blacken <fn makeClosure>
heap_033 blacken <script>
-- gc end: collected 0 bytes (from 2163 to 2163), next at 4326
heap_040 allocate 48 for 4
stack: <script> <fn makeClosure> bagel <fn closure>
0004    5 OP_GET_LOCAL        2
stack: <script> <fn makeClosure> bagel <fn closure> <fn closure>
0006    | OP_RETURN
stack: <script> <fn closure>
0018    | OP_DEFINE_GLOBAL    5 'bagel'
stack: <script>
0020   10 OP_GET_GLOBAL       8 'doughnut'
stack: <script> <fn closure>
0022    | OP_CALL             0
stack: <script> <fn closure>
0000    3 OP_GET_UPVALUE      0
stack: <script> <fn closure> doughnut
0002    | OP_PRINT
doughnut
stack: <script> <fn closure>
0003    4 OP_NIL
stack: <script> <fn closure> nil
0004    | OP_RETURN
stack: <script> nil
0024    | OP_POP
stack: <script>
0025   11 OP_GET_GLOBAL       9 'bagel'
stack: <script> <fn closure>
0027    | OP_CALL             0
stack: <script> <fn closure>
0000    3 OP_GET_UPVALUE      0
stack: <script> <fn closure> bagel
0002    | OP_PRINT
bagel
stack: <script> <fn closure>
0003    4 OP_NIL
stack: <script> <fn closure> nil
0004    | OP_RETURN
stack: <script> nil
0029    | OP_POP
stack: <script>
0030   15 OP_NIL
stack: <script> nil
0031    | OP_RETURN
Executing ... done.

heap_040 free type 4
heap_039 free type 0
heap_037 free type 4
heap_036 free type 0
heap_034 free type 0
heap_033 free type 0
heap_008 free type 2
heap_007 free type 3
heap_004 free type 2
heap_002 free type 3
heap_017 free type 3
heap_015 free type 1
heap_029 free type 3
heap_026 free type 3
heap_014 free type 1
heap_012 free type 3
heap_010 free type 1
